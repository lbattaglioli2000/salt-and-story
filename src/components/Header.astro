---
import { Icon } from 'astro-icon';
---

<header class="bg-cream py-4 border-b border-tan sticky top-0 z-50 transition-all duration-300" id="site-header">
  <div class="container mx-auto px-4 flex justify-between items-center">
    <a href="/" class="text-burgundy hover:text-burgundy-light transition-colors">
      <h1 class="font-heading text-2xl md:text-3xl">Salt & Story</h1>
    </a>

    <!-- Mobile Menu Button -->
    <button id="menu-toggle" class="lg:hidden text-burgundy p-2" aria-label="Toggle Menu">
      <Icon name="heroicons-outline:menu" class="w-6 h-6" />
    </button>

    <!-- Desktop Navigation -->
    <nav class="hidden lg:flex items-center space-x-8">
      <a href="/" class="nav-link">Home</a>
      <a href="/recipes" class="nav-link">Recipes</a>
      <a href="/techniques" class="nav-link">Techniques</a>
      <a href="/about" class="nav-link">About</a>
      <a href="/contact" class="nav-link">Contact</a>
      <button aria-label="Search" class="text-burgundy hover:text-burgundy-light transition-colors">
        <Icon name="heroicons-outline:search" class="w-5 h-5" />
      </button>
    </nav>
  </div>

  <!-- Mobile Navigation -->
  <div id="mobile-menu" class="lg:hidden hidden bg-cream border-t border-tan">
    <nav class="container mx-auto px-4 py-4 flex flex-col space-y-4">
      <a href="/" class="nav-link py-2">Home</a>
      <a href="/recipes" class="nav-link py-2">Recipes</a>
      <a href="/techniques" class="nav-link py-2">Techniques</a>
      <a href="/about" class="nav-link py-2">About</a>
      <a href="/contact" class="nav-link py-2">Contact</a>
      <div class="relative mt-2">
        <input 
          type="text" 
          placeholder="Search recipes..." 
          class="w-full p-2 pl-10 border border-tan rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-burgundy"
        >
        <Icon name="heroicons-outline:search" class="absolute left-3 top-2.5 w-5 h-5 text-olive" />
      </div>
    </nav>
  </div>
</header>

<script>
  // Toggle mobile menu
  const menuToggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const header = document.getElementById('site-header');
  
  menuToggle?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  // Header scroll effect
  let lastScrollY = window.scrollY;
  
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      header?.classList.add('shadow-md', 'bg-cream/95', 'backdrop-blur-sm');
    } else {
      header?.classList.remove('shadow-md', 'bg-cream/95', 'backdrop-blur-sm');
    }
    lastScrollY = window.scrollY;
  });
</script>

<style>
  .nav-link {
    @apply font-medium text-olive hover:text-burgundy transition-colors duration-200 relative;
  }
  
  .nav-link::after {
    content: '';
    @apply absolute left-0 bottom-0 w-0 h-0.5 bg-burgundy transition-all duration-300;
  }
  
  .nav-link:hover::after {
    @apply w-full;
  }
</style>